import"./modulepreload-polyfill-B5Qt9EMX.js";import{S as H,P as b,H as A,D as G,W as I,R as L,E as S,U as V,V as W,C as k,G as O,O as R,a as U,b as c,M as j,c as F,d as p,e as x,f,g,I as q}from"./UnrealBloomPass-D9cm2Sqc.js";const M=window.innerWidth,v=window.innerHeight,h=new c(0,-.09807,0),o=new H,m=new b(50,M/v,.1,2e3);m.position.z=50;m.position.y=3;const B=new A(0,0,1),P=new G(2236962,10);P.position.y=10;o.add(B);o.add(P);const l=new I;l.setSize(M,v);l.setClearColor(0);const N=new L(o,m),D=new S(l);D.addPass(N);const T=new V(new W(window.innerWidth,window.innerHeight),1.6,.1,.1);D.addPass(T);l.toneMapping=k;l.toneMappingExposure=1.5;const X=new O(100,100);o.add(X);new R(m,l.domElement);document.body.appendChild(l.domElement);const Y=[[0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],[0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0],[0,0,1,1,0,0,0,0,0,0,0,0,1,1,0,0],[0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0],[0,0,1,0,0,0,0,1,1,0,0,0,0,1,0,0],[0,0,1,0,0,0,1,0,0,1,0,0,0,1,0,0],[0,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0]],J=[[0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1,0],[1,0,0,0,1,0,1,0,0,1,1,0,1,0,0,0,1,0,1,0,0,0,1],[0,0,0,0,1,0,1,0,1,0,1,0,0,0,0,0,1,0,0,0,0,0,1],[0,0,0,1,0,0,1,1,0,0,1,0,0,0,0,1,0,0,0,0,1,1,0],[0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1],[0,1,0,0,0,0,1,0,0,0,1,0,0,1,0,0,0,0,1,0,0,0,1],[1,1,1,1,1,0,0,1,1,1,0,0,1,1,1,1,1,0,0,1,1,1,0]],K=[[1,0,0,0,0,0,1,0,0,0,0,0,1],[0,1,0,0,0,0,1,0,0,0,0,1,0],[0,0,1,0,0,0,1,0,0,0,1,0,0],[0,0,0,1,0,0,1,0,0,1,0,0,0],[0,0,0,0,1,0,1,0,1,0,0,0,0],[0,0,0,0,0,1,1,1,0,0,0,0,0],[1,1,1,1,1,1,1,1,1,1,1,1,1],[0,0,0,0,0,1,1,1,0,0,0,0,0],[0,0,0,0,1,0,1,0,1,0,0,0,0],[0,0,0,1,0,0,1,0,0,1,0,0,0],[0,0,1,0,0,0,1,0,0,0,1,0,0],[0,1,0,0,0,0,1,0,0,0,0,1,0],[1,0,0,0,0,0,1,0,0,0,0,0,1]],Q=[[1,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,1,1,1,0,0,1,1,1,1,0,1,1,1,1,0,0,1,1,1,0,1,1,1,1,1,0,0,1,1,1,0,0,1,1,1],[1,0,0,1,0,1,0,0,1,0,1,0,0,1,0,1,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,1,0,0,1,0,1,0,0,0],[1,1,1,0,0,1,0,0,1,0,1,0,0,1,0,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,0,0,0,1,0,0,0,1,0,0,1,0,0,1,1,0],[1,0,0,1,0,1,0,0,1,0,1,1,1,1,0,0,0,0,1,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,1,1,1,0,0,0,0,1],[1,1,1,0,0,0,1,1,0,0,1,0,0,1,0,1,1,1,0,0,0,1,0,0,0,0,1,1,1,1,0,1,1,1,0,0,0,0,1,0,0,0,1,0,0,1,0,1,1,1,0]];function Z(a=nw,t){let i=2,d=.1,r={forces:[],radius:[],color:a};for(let e=0;e<t.length;e++)for(let s=0;s<t[e].length;s++)if(t[e][s]==1)for(let w=.07;w<d;w+=.03){const C=w*2,z=(s-t[e].length/2)*i*w,E=-(e-t.length/2)*i*w;r.forces.push(new c(z,E,0)),r.radius.push(C)}return r}const _=()=>new f(Math.random()*4294967295),$=(a,t)=>new c(Math.random()*a-t,0,Math.random()*a-t),e0=(a=new c(0,0,0),t=new c(0,0,0),i=new f(16777215))=>{const d=new g(1),r=new p({color:i,emissive:i,emissiveIntensity:1.2}),e=new x(d,r);return e.position.set(a.x,a.y,a.z),e.userData.velocity=t,e.userData.isParticle=!0,e.userData.time=new Date,e.userData.update=()=>{e.userData.velocity.add(h),e.position.add(e.userData.velocity),new Date-e.userData.time>1e3&&o.remove(e)},e},n=new U,u=new j,t0=(a=new c(0,0,0),t=new f)=>{const i=Z(t,[J,Q,Y,K][Math.floor(Math.random()*4)]),d=i.forces.length,r=1,e=new q(new g,new p({color:t,emissive:t,emissiveIntensity:Math.random()*2}),d);e.userData.isExplosion=!0,e.userData.velocities=[],e.userData.time=new Date;for(let s=0;s<d;s++)e.getMatrixAt(s,u),u.decompose(n.position,n.rotation,n.scale),n.position.x=a.x,n.position.y=a.y,n.position.z=a.z,n.updateMatrix(),e.setMatrixAt(s,n.matrix),e.userData.velocities.push(i.forces[s]);e.userData.update=()=>{for(let s=0;s<d;s++)e.getMatrixAt(s,u),u.decompose(n.position,n.rotation,n.scale),e.userData.velocities[s].add(h),n.position.add(e.userData.velocities[s]),n.scale.set(r,r,r),n.updateMatrix(),e.setMatrixAt(s,n.matrix);e.instanceMatrix.needsUpdate=!0,new Date-e.userData.time>1e3&&o.remove(e)},o.add(e)},a0=(a=new c(0,0,0))=>{const t=new c(0,2+Math.random()*8,0),i=_(),d=new F(1,4),r=new p({color:i,emissive:i,emissiveIntensity:1.2}),e=new x(d,r);e.position.set(a.x,a.y,a.z),e.userData.velocity=t,e.userData.update=()=>{e.userData.velocity.add(h),e.position.add(e.userData.velocity),o.add(e0(new c(e.position.x,e.position.y-2,e.position.z),new c(Math.random(),0,Math.random()),new c(4095))),e.userData.velocity.y<0&&(t0(e.position,e.material.color),o.remove(e))},e.userData.isFirework=!0,o.add(e)};let y=new Date;(function a(){l.render(o,m),D.render(),new Date-y>100&&(a0($(200,100)),y=new Date),o.children.forEach(t=>{t.userData.update&&t.userData.update()}),window.requestAnimationFrame(a)})();
